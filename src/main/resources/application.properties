spring.application.name=demo

# 資料庫連線設定 - 使用環境變數（Azure 會注入這些）
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/demo}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:postgres123}

# HikariCP 連接池設定（Azure 優化）
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=30000

# JPA 設定
# 顯示 SQL 語句（用於除錯）
spring.jpa.show-sql=${JPA_SHOW_SQL:false}
# 自動建立/更新資料表結構
spring.jpa.hibernate.ddl-auto=${JPA_DDL_AUTO:update}
# PostgreSQL 方言
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# JWT 設定
# 優先使用環境變數，沒有則用預設值（僅供開發環境使用）
# 生產環境請設定環境變數：export JWT_SECRET=your-production-secret
jwt.secret=${JWT_SECRET:your-very-secure-secret-key-that-should-be-at-least-256-bits-long-for-HS256-algorithm}
# JWT 過期時間（毫秒）：86400000ms = 24 小時
jwt.expiration=${JWT_EXPIRATION:86400000}

# Session 設定
server.servlet.session.timeout=30m
server.servlet.session.cookie.name=JSESSIONID
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.secure=${COOKIE_SECURE:false}
server.servlet.session.cookie.same-site=strict

# Azure App Service 監聽 port（由環境變數決定）
server.port=${SERVER_PORT:8080}